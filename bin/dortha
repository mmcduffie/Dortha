#!/usr/bin/env ruby
require 'rubygems'
require 'dortha'

if ARGV.empty?
  raise "No input file specified. Usage: dortha [source file name]" # Throw an exception if no source file given.
end

source_file = []

ARGF.each_line do |line|
  source_file[ARGF.lineno - 1] = line
end

Dortha.execute(source_file)